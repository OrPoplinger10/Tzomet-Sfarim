{"ast":null,"code":"import _asyncToGenerator from \"C:/Angular/Full Stack template Tzomet sfarim with angular/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ListComponent = class ListComponent {\n  constructor(dataService, notifyService) {\n    this.dataService = dataService;\n    this.notifyService = notifyService;\n  }\n  search() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        if (_this.searchText.trim() === \"\") throw new Error(\"Missing Text\");\n        _this.books = yield _this.dataService.getBooksBySearchText(_this.searchText);\n        console.log(_this.books);\n      } catch (err) {\n        _this.notifyService.error(err);\n      }\n    })();\n  }\n  deleteThisBook(bookId) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        yield _this2.dataService.deleteBook(bookId);\n        _this2.notifyService.success(\"Book deleted\");\n        const index = _this2.books.findIndex(b => b.bookId === bookId);\n        _this2.books.splice(index, 1);\n      } catch (err) {\n        _this2.notifyService.error(err);\n      }\n    })();\n  }\n};\nListComponent = __decorate([Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.css']\n})], ListComponent);\nexport { ListComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAS,QAAQ,eAAe;AAUlC,IAAMC,aAAa,GAAnB,MAAMA,aAAa;EAKtBC,YAA2BC,WAAwB,EAAUC,aAA4B;IAA9D,gBAAW,GAAXD,WAAW;IAAuB,kBAAa,GAAbC,aAAa;EAAmB;EAEhFC,MAAM;IAAA;IAAA;MACf,IAAI;QACA,IAAG,KAAI,CAACC,UAAU,CAACC,IAAI,EAAE,KAAI,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,cAAc,CAAC;QAChE,KAAI,CAACC,KAAK,SAAS,KAAI,CAACN,WAAW,CAACO,oBAAoB,CAAC,KAAI,CAACJ,UAAU,CAAC;QACzEK,OAAO,CAACC,GAAG,CAAC,KAAI,CAACH,KAAK,CAAC;OAC1B,CACD,OAAMI,GAAQ,EAAE;QACZ,KAAI,CAACT,aAAa,CAACU,KAAK,CAACD,GAAG,CAAC;;IAChC;EACL;EACaE,cAAc,CAACC,MAAc;IAAA;IAAA;MAEtC,IAAI;QACA,MAAM,MAAI,CAACb,WAAW,CAACc,UAAU,CAACD,MAAM,CAAC;QACzC,MAAI,CAACZ,aAAa,CAACc,OAAO,CAAC,cAAc,CAAC;QAC1C,MAAMC,KAAK,GAAG,MAAI,CAACV,KAAK,CAACW,SAAS,CAACC,CAAC,IAAIA,CAAC,CAACL,MAAM,KAAKA,MAAM,CAAC;QAC5D,MAAI,CAACP,KAAK,CAACa,MAAM,CAACH,KAAK,EAAE,CAAC,CAAC;OAE9B,CACD,OAAMN,GAAQ,EAAE;QACZ,MAAI,CAACT,aAAa,CAACU,KAAK,CAACD,GAAG,CAAC;;IAChC;EAIL;CAEH;AAlCYZ,aAAa,eALzBD,SAAS,CAAC;EACTuB,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,uBAAuB;EACpCC,SAAS,EAAE,CAAC,sBAAsB;CACnC,CAAC,GACWxB,aAAa,CAkCzB;SAlCYA,aAAa","names":["Component","ListComponent","constructor","dataService","notifyService","search","searchText","trim","Error","books","getBooksBySearchText","console","log","err","error","deleteThisBook","bookId","deleteBook","success","index","findIndex","b","splice","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Angular\\Full Stack template Tzomet sfarim with angular\\Frontend\\src\\app\\components\\data-area\\list\\list.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport BookModel from 'src/app/models/book-model';\nimport { DataService } from 'src/app/services/data.service';\nimport { NotifyService } from 'src/app/services/notify.service';\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.css']\n})\nexport class ListComponent {\n\n    public searchText: string;\n    public books: BookModel[];\n\n    public constructor(private dataService: DataService, private notifyService: NotifyService) { }\n\n    public async search() {\n        try {\n            if(this.searchText.trim() ===\"\") throw new Error(\"Missing Text\");\n            this.books = await this.dataService.getBooksBySearchText(this.searchText);\n            console.log(this.books);\n        }\n        catch(err: any) {\n            this.notifyService.error(err);\n        }\n    }\n    public async deleteThisBook(bookId: number) {\n\n        try {\n            await this.dataService.deleteBook(bookId);\n            this.notifyService.success(\"Book deleted\");\n            const index = this.books.findIndex(b => b.bookId === bookId)\n            this.books.splice(index, 1);\n\n        }\n        catch(err: any) {\n            this.notifyService.error(err);\n        }\n\n\n        \n    }\n    \n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}