{"ast":null,"code":"import _asyncToGenerator from \"C:/Angular/Full Stack template Tzomet sfarim with angular/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/data.service\";\nimport * as i2 from \"src/app/services/notify.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../book-card/book-card.component\";\nfunction ListComponent_app_book_card_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.…µ…µgetCurrentView();\n    i0.…µ…µelementStart(0, \"app-book-card\", 4);\n    i0.…µ…µlistener(\"deleteMe\", function ListComponent_app_book_card_8_Template_app_book_card_deleteMe_0_listener($event) {\n      i0.…µ…µrestoreView(_r4);\n      const ctx_r3 = i0.…µ…µnextContext();\n      return i0.…µ…µresetView(ctx_r3.deleteThisBook($event));\n    });\n    i0.…µ…µelementEnd();\n  }\n  if (rf & 2) {\n    const b_r2 = ctx.$implicit;\n    i0.…µ…µproperty(\"book\", b_r2);\n  }\n}\nfunction ListComponent_h3_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.…µ…µelementStart(0, \"h3\");\n    i0.…µ…µtext(1, \"There are no books for containing your search text\");\n    i0.…µ…µelementEnd();\n  }\n}\nexport class ListComponent {\n  constructor(dataService, notifyService) {\n    this.dataService = dataService;\n    this.notifyService = notifyService;\n  }\n  search() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        if (_this.searchText.trim() === \"\") throw new Error(\"Missing Text\");\n        _this.books = yield _this.dataService.getBooksBySearchText(_this.searchText);\n        console.log(_this.books);\n      } catch (err) {\n        _this.notifyService.error(err);\n      }\n    })();\n  }\n  deleteThisBook(bookId) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        yield _this2.dataService.deleteBook(bookId);\n        _this2.notifyService.success(\"Book deleted\");\n        const index = _this2.books.findIndex(b => b.bookId === bookId);\n        _this2.books.splice(index, 1);\n      } catch (err) {\n        _this2.notifyService.error(err);\n      }\n    })();\n  }\n}\nListComponent.…µfac = function ListComponent_Factory(t) {\n  return new (t || ListComponent)(i0.…µ…µdirectiveInject(i1.DataService), i0.…µ…µdirectiveInject(i2.NotifyService));\n};\nListComponent.…µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n  type: ListComponent,\n  selectors: [[\"app-list\"]],\n  decls: 11,\n  vars: 3,\n  consts: [[\"ngNativeValidate\", \"\", 3, \"ngSubmit\"], [\"type\", \"search\", \"name\", \"serachText\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [3, \"book\", \"deleteMe\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [3, \"book\", \"deleteMe\"]],\n  template: function ListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.…µ…µelementStart(0, \"div\")(1, \"form\", 0);\n      i0.…µ…µlistener(\"ngSubmit\", function ListComponent_Template_form_ngSubmit_1_listener() {\n        return ctx.search();\n      });\n      i0.…µ…µelementStart(2, \"label\");\n      i0.…µ…µtext(3, \"Enter text to search:\");\n      i0.…µ…µelementEnd();\n      i0.…µ…µelementStart(4, \"input\", 1);\n      i0.…µ…µlistener(\"ngModelChange\", function ListComponent_Template_input_ngModelChange_4_listener($event) {\n        return ctx.searchText = $event;\n      });\n      i0.…µ…µelementEnd();\n      i0.…µ…µelementStart(5, \"button\");\n      i0.…µ…µtext(6, \"\\uD83D\\uDD0D\");\n      i0.…µ…µelementEnd()();\n      i0.…µ…µelement(7, \"hr\");\n      i0.…µ…µtemplate(8, ListComponent_app_book_card_8_Template, 1, 1, \"app-book-card\", 2);\n      i0.…µ…µtext(9, \" //\\n\");\n      i0.…µ…µtemplate(10, ListComponent_h3_10_Template, 2, 0, \"h3\", 3);\n      i0.…µ…µelementEnd();\n    }\n    if (rf & 2) {\n      i0.…µ…µadvance(4);\n      i0.…µ…µproperty(\"ngModel\", ctx.searchText);\n      i0.…µ…µadvance(4);\n      i0.…µ…µproperty(\"ngForOf\", ctx.books);\n      i0.…µ…µadvance(2);\n      i0.…µ…µproperty(\"ngIf\", (ctx.books == null ? null : ctx.books.length) === 0);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm, i5.BookCardComponent],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;IAUAA,wCAAsF;IAApCA;MAAAA;MAAA;MAAA,OAAYA,4CAAsB;IAAA,EAAC;IAACA,iBAAgB;;;;IAA/DA,2BAAU;;;;;IAGjDA,0BAAgC;IAAAA,kEAAkD;IAAAA,iBAAK;;;ACHvF,OAAM,MAAOC,aAAa;EAKtBC,YAA2BC,WAAwB,EAAUC,aAA4B;IAA9D,gBAAW,GAAXD,WAAW;IAAuB,kBAAa,GAAbC,aAAa;EAAmB;EAEhFC,MAAM;IAAA;IAAA;MACf,IAAI;QACA,IAAG,KAAI,CAACC,UAAU,CAACC,IAAI,EAAE,KAAI,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,cAAc,CAAC;QAChE,KAAI,CAACC,KAAK,SAAS,KAAI,CAACN,WAAW,CAACO,oBAAoB,CAAC,KAAI,CAACJ,UAAU,CAAC;QACzEK,OAAO,CAACC,GAAG,CAAC,KAAI,CAACH,KAAK,CAAC;OAC1B,CACD,OAAMI,GAAQ,EAAE;QACZ,KAAI,CAACT,aAAa,CAACU,KAAK,CAACD,GAAG,CAAC;;IAChC;EACL;EACaE,cAAc,CAACC,MAAc;IAAA;IAAA;MAEtC,IAAI;QACA,MAAM,MAAI,CAACb,WAAW,CAACc,UAAU,CAACD,MAAM,CAAC;QACzC,MAAI,CAACZ,aAAa,CAACc,OAAO,CAAC,cAAc,CAAC;QAC1C,MAAMC,KAAK,GAAG,MAAI,CAACV,KAAK,CAACW,SAAS,CAACC,CAAC,IAAIA,CAAC,CAACL,MAAM,KAAKA,MAAM,CAAC;QAC5D,MAAI,CAACP,KAAK,CAACa,MAAM,CAACH,KAAK,EAAE,CAAC,CAAC;OAE9B,CACD,OAAMN,GAAQ,EAAE;QACZ,MAAI,CAACT,aAAa,CAACU,KAAK,CAACD,GAAG,CAAC;;IAChC;EAIL;;AAhCSZ,aAAa;mBAAbA,aAAa;AAAA;AAAbA,aAAa;QAAbA,aAAa;EAAAsB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDV1B3B,2BAAK;MAEsBA;QAAA,OAAY4B,YAAQ;MAAA,EAAC;MAChD5B,6BAAO;MAAAA,qCAAqB;MAAAA,iBAAQ;MACpCA,gCAA6E;MAApCA;QAAA;MAAA,EAAyB;MAAlEA,iBAA6E;MAE7EA,8BAAQ;MAAAA,4BAAE;MAAAA,iBAAS;MAEnBA,qBAAI;MAEJA,kFAAsG;MAEtGA,qBACA;MAAAA,8DAAuF;MAIvFA,iBAAM;;;MAbmCA,eAAyB;MAAzBA,wCAAyB;MAMrCA,eAAQ;MAARA,mCAAQ;MAGhCA,eAAyB;MAAzBA,0EAAyB","names":["i0","ListComponent","constructor","dataService","notifyService","search","searchText","trim","Error","books","getBooksBySearchText","console","log","err","error","deleteThisBook","bookId","deleteBook","success","index","findIndex","b","splice","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Angular\\Full Stack template Tzomet sfarim with angular\\Frontend\\src\\app\\components\\data-area\\list\\list.component.html","C:\\Angular\\Full Stack template Tzomet sfarim with angular\\Frontend\\src\\app\\components\\data-area\\list\\list.component.ts"],"sourcesContent":["<div>\n\n    <form ngNativeValidate (ngSubmit)=\"search()\">\n<label>Enter text to search:</label>\n<input type = \"search\" name=\"serachText\" [(ngModel)] =\"searchText\" required >\n\n<button>üîç</button>\n    </form>\n<hr>\n\n<app-book-card *ngFor=\"let b of books\" [book]=\"b\" (deleteMe)=\"deleteThisBook($event)\"></app-book-card>\n\n//\n<h3 *ngIf=\"books?.length === 0\">There are no books for containing your search text</h3>\n\n\n\n</div>\n","import { Component } from '@angular/core';\nimport BookModel from 'src/app/models/book-model';\nimport { DataService } from 'src/app/services/data.service';\nimport { NotifyService } from 'src/app/services/notify.service';\n\n@Component({\n  selector: 'app-list',\n  templateUrl: './list.component.html',\n  styleUrls: ['./list.component.css']\n})\nexport class ListComponent {\n\n    public searchText: string;\n    public books: BookModel[];\n\n    public constructor(private dataService: DataService, private notifyService: NotifyService) { }\n\n    public async search() {\n        try {\n            if(this.searchText.trim() ===\"\") throw new Error(\"Missing Text\");\n            this.books = await this.dataService.getBooksBySearchText(this.searchText);\n            console.log(this.books);\n        }\n        catch(err: any) {\n            this.notifyService.error(err);\n        }\n    }\n    public async deleteThisBook(bookId: number) {\n\n        try {\n            await this.dataService.deleteBook(bookId);\n            this.notifyService.success(\"Book deleted\");\n            const index = this.books.findIndex(b => b.bookId === bookId)\n            this.books.splice(index, 1);\n\n        }\n        catch(err: any) {\n            this.notifyService.error(err);\n        }\n\n\n        \n    }\n    \n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}